<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>记一次从信息泄露到密码重置-挖掘思路</title>
      <link href="2021/01/19/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BB%8E%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E5%88%B0%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE-%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF/"/>
      <url>2021/01/19/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BB%8E%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E5%88%B0%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE-%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF/</url>
      
        <content type="html"><![CDATA[<h1 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h1><p>在挖EDUSRC的时候无意中点到的一个站点</p><p><img src="/2021/01/19/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BB%8E%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E5%88%B0%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE-%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF/1.png"></p><p>当看到初始密码为8位生日的时候，立即想到了信息收集</p><h1 id="信息收集思路"><a href="#信息收集思路" class="headerlink" title="信息收集思路"></a>信息收集思路</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Site:xx.edu.cn filetype:xls 学号 身份证</span><br><span class="line">Site:xx.edu.cn xls 学号 身份证</span><br></pre></td></tr></table></figure><p>假如xls文件没有，可以尝试搜索其他文件</p><p>如：doc、docx、xlsx、pdf、zip、7z等等</p><p>在一波搜索下，终于找到了一处信息泄露，搜索到的是一处xls文件，带有学号和身份证等信息</p><p><img src="/2021/01/19/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BB%8E%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E5%88%B0%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE-%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF/2.png"></p><p>拿到了身份证和学号，当即去尝试登录。对头，还是初始密码，成功登录</p><h1 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h1><p><img src="/2021/01/19/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BB%8E%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E5%88%B0%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE-%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF/3.png"></p><p>可以查看个人敏感信息和账号任意操作，在看个人资料的那里尝试找了一下越权漏洞发现没有，就辗转到了修改密码的地方</p><p><img src="/2021/01/19/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BB%8E%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E5%88%B0%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE-%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF/4.png"></p><p>填好密码，抓了一下包看看</p><p><img src="/2021/01/19/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BB%8E%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E5%88%B0%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE-%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF/5.png"></p><p>可以看到带有学号，试想假如修改成别人的学号是不是能修改别人的密码呢，不多说开干</p><p><img src="/2021/01/19/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BB%8E%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E5%88%B0%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE-%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF/6.png"></p><p>修改成了180068，然后发包</p><p><img src="/2021/01/19/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BB%8E%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E5%88%B0%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE-%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF/7.png"></p><p>功夫不负有心人，修改成功，而且学号那里也变成了180068</p><p><img src="/2021/01/19/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BB%8E%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E5%88%B0%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE-%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF/8.png"></p><p>只要抓包去跑一下，根据学号的排序规则，构造学号，可以修改全院学生的密码</p><h1 id="挖掘思路"><a href="#挖掘思路" class="headerlink" title="挖掘思路"></a>挖掘思路</h1><p>在挖掘密码重置漏洞的时候，主要是在密码修改处，注意它传的参数等，下面我举几个例子</p><h2 id="带有id等类似参数"><a href="#带有id等类似参数" class="headerlink" title="带有id等类似参数"></a>带有id等类似参数</h2><p><img src="/2021/01/19/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BB%8E%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E5%88%B0%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE-%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF/9.png"></p><p>这里只要修改id，即可修改对方的密码。假如管理员的id是1，那么就可以修改管理员的密码了</p><h2 id="带有username等类似参数"><a href="#带有username等类似参数" class="headerlink" title="带有username等类似参数"></a>带有username等类似参数</h2><p><img src="/2021/01/19/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BB%8E%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E5%88%B0%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE-%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF/10.png"></p><p>我在挖这个的时候，普通账号登录之后是可以看到管理员的用户名的，所以修改管理员的密码轻而易举。 </p><h2 id="验证码长期有效"><a href="#验证码长期有效" class="headerlink" title="验证码长期有效"></a>验证码长期有效</h2><p><img src="/2021/01/19/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BB%8E%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E5%88%B0%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE-%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF/11.png"></p><p>只要抓包跑验证码，就可以修改对方的密码。</p><p><strong>圈子投稿文章，原文：<a href="https://www.secquan.org/Discuss/1070616">https://www.secquan.org/Discuss/1070616</a></strong></p>]]></content>
      
      
      <categories>
          
          <category> 渗透测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 渗透测 </tag>
            
            <tag> SRC </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
